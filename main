saudacao = function()
  local interacao
  repeat
    interacao = io.read()

    if interacao == "" then
      print("Ora, meu caro, eu ainda nÃ£o posso ler sua mente! \n Pelas barbas de Merlyn, me diga algo para continuarmos!")
    else
      print("Humm... VocÃª Ã© interessante...ğŸ§™â€â™‚ï¸")
      print("Eu sou o ChapÃ©u Seletor, e irei lhe dizer a qual das casas de Hogwarts vocÃª se encaixarÃ¡ melhor. \n Agora, me responda algumas perguntas...")

      pergunta1()
    end
  until interacao ~= ""
end

pergunta1 = function()
  print("Qual seu animal de estimaÃ§Ã£o favorito? \n" ..
    "Gato ğŸ™€ \n" ..
    "CÃ£o ğŸ• \n" ..
    "PÃ¡ssaro ğŸ¦ \n" ..
    "Peixe ğŸ  \n"
  )
  local resposta1 = io.read()
  if resposta1 then
    local opcao = tratamento(resposta1)
    print(opcao)
  else
    print("NÃ£o funcionou")
  end
end

tratamento = function(opcao)
  dado = string.lower(opcao)

  local lista_parte = {
    "gato",
    "cÃ£o",
    "pÃ¡ssaro",
    "peixe"
  }

  local lista_palavra = {
    ["gato"] = "son",
    ["cÃ£o"] = "grif",
    ["pÃ¡ssaro"] = "corv",
    ["peixe"] = "lufa"
  }

  for _, palavra_frase in ipairs(opcao) do
    for _, palavra_compara in ipairs(lista_parte) do
      local inicio, fim = string.find(palavra_frase, palavra_compara)

      if inicio then
        parte_encontrada = tostring(string.sub(palavra_frase, inicio, fim))
      end
    end
  end

  local palavra_encontrada = tostring(lista_palavra[parte_encontrada])
  return palavra_encontrada
end

saudacao()
